{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"GA4 Data Layer Docs","text":"<p>A marketing data layer serves as a central hub for collecting, organizing, and distributing data related to marketing activities on a website or digital platform. For software engineers, it's essentially a structured framework that standardizes the way marketing data is captured and managed across various tools and platforms.</p> <p>The purpose of a data layer specification is to define a standardized framework for capturing, structuring, and transmitting data related to user interactions and behaviors on digital platforms. It serves as a blueprint that guides the implementation of a data layer, ensuring consistency in data collection methods and formats across different tools and systems. By establishing clear guidelines, a data layer specification facilitates seamless integration, data interoperability, and effective analytics for informed decision-making in marketing and web development.</p>"},{"location":"#what-is-a-marketing-data-layer","title":"What is a (marketing) data layer?","text":"<p>A marketing data layer is a centralized queue for receiving event messages communicating how users interact with a web page in order to facilitate analytics, third-party marketing tags and tools.</p> <p>In a Google Analytics implementation, it's one of the cornerstones of data quality (along with the GA4 property configuration and the Google Tag Manager container).</p>"},{"location":"#the-data-layer-queue","title":"The data layer queue","text":"<p>The data layer queue is implemented as a simple JavaScript array in the global scope of a page.</p> JavaScript<pre><code>window.dataLayer = window.dataLayer || [];\n</code></pre>"},{"location":"#event-messages","title":"Event messages","text":"<p>As a user interacts with a site, event messages are added to the queue as objects via the <code>Array.prototype.push()</code> method.</p> <p>All event messages have at least one property (<code>event</code>, a unique event name that distinguishes it from other event message types).</p> JavaScript<pre><code>dataLayer.push({\n    event: 'generate_lead'\n});\n</code></pre> <p>However most event messages contain other properties, sometimes nested by context.</p> JavaScript<pre><code>dataLayer.push({\n    event: 'page_view',\n    page_type: 'Homepage',\n    country: 'us',\n    language: 'en'\n});\n</code></pre> <p>Alternatively, data can be pushed to the data layer using a data message. This type of message does not have an <code>event</code> property and therefore can't be used to trigger an event in GTM. It can be used to pre-populate the data layer with data for later collection, or update existing data between events.</p> JavaScript<pre><code>// CANNOT be used as a trigger in GTM, only to add or modify existing data in the data layer\ndataLayer.push({\n    some_data: 'new_value';\n});\n\n// Any tags which are subsequently triggered and which have a field set to \n// a GTM Variable mapped to the dataLayer value `page.name` will collect the\n// data from the data message\ndataLayer.push({\n    event: 'collect_some_data';\n});\n</code></pre>"},{"location":"#resources","title":"Resources","text":"<ul> <li>What is a data layer queue?</li> <li>Google Tag Manager docs \u2014 The data layer</li> <li>Analytics Mania \u2014 GTM Guide: dataLayer.push with examples</li> <li>GA4 event types<ul> <li>GA4 Enhanced Measurement Events</li> <li>Recommended events</li> </ul> </li> </ul>"},{"location":"event_messages/","title":"Event messages","text":""},{"location":"event_messages/accounts/login/","title":"login","text":"<p>Triggered when a user logs into their account on the website.</p>","tags":["Custom"]},{"location":"event_messages/accounts/login/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user logs into their account on the website.</p>","tags":["Custom"]},{"location":"event_messages/accounts/login/#why-its-necessary","title":"Why it's necessary","text":"<p>It allows the business to track user logins and identify returning customers, enabling personalized experiences and targeted marketing campaigns. This data can help improve user retention and loyalty.</p>","tags":["Custom"]},{"location":"event_messages/accounts/login/#implementations","title":"Implementations","text":"Where Source Status Login page  Live","tags":["Custom"]},{"location":"event_messages/accounts/login/#code-example","title":"Code Example","text":"JavaScript<pre><code>dataLayer.push({\n  \"event\": \"login\",\n  \"method\": \"oauth2\"\n});\n</code></pre>","tags":["Custom"]},{"location":"event_messages/accounts/login/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"login\" method string Yes Name of the method used to log in \"email\", \"oauth\"","tags":["Custom"]},{"location":"event_messages/accounts/sign_up/","title":"sign_up","text":"<p>Triggered when a user creates an account on the website.</p>","tags":["Recommended"]},{"location":"event_messages/accounts/sign_up/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user creates an account on the website, typically by completing a registration form or sign-up process.</p>","tags":["Recommended"]},{"location":"event_messages/accounts/sign_up/#why-its-necessary","title":"Why it's necessary","text":"<p>It allows the business to track user registrations and identify new customers, enabling personalized experiences and targeted marketing campaigns. This data can help improve user retention and loyalty.</p>","tags":["Recommended"]},{"location":"event_messages/accounts/sign_up/#implementations","title":"Implementations","text":"<p>Not implemented. See registration_complete.</p>","tags":["Recommended"]},{"location":"event_messages/accounts/sign_up/#code-example","title":"Code Example","text":"JavaScript<pre><code>dataLayer.push({\n  \"event\": \"sign_up\",\n  \"method\": \"email\"\n});\n</code></pre>","tags":["Recommended"]},{"location":"event_messages/accounts/sign_up/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"sign_up\" method string No Method used to log in \"email\", \"oauth2\", \"google\"","tags":["Recommended"]},{"location":"event_messages/content_engagement/select_content/","title":"select_content","text":"<p>Triggered when a user interacts with content on the website, such as clicking on a product image or video.</p>","tags":["Recommended"]},{"location":"event_messages/content_engagement/select_content/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user interacts with content on the website, such as clicking on a product image or video.</p>","tags":["Recommended"]},{"location":"event_messages/content_engagement/select_content/#why-its-necessary","title":"Why it's necessary","text":"<p>It helps track user engagement with specific content elements, allowing the business to analyze user interactions and optimize content placement. This data can inform content strategy and user experience design.</p>","tags":["Recommended"]},{"location":"event_messages/content_engagement/select_content/#implementations","title":"Implementations","text":"<p>Not implemented.</p>","tags":["Recommended"]},{"location":"event_messages/content_engagement/select_content/#code-example","title":"Code Example","text":"JavaScript<pre><code>dataLayer.push({\n  \"event\": \"select_content\",\n  \"content_type\": \"article\",\n  \"content_id\": \"A_1234567890\"\n});\n</code></pre>","tags":["Recommended"]},{"location":"event_messages/content_engagement/select_content/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"select_content\" content_type string No Type of content viewed by the user \"article\", \"blog\", \"video\" content_id string No Unique identifier for the content \"A_1234567890\"","tags":["Recommended"]},{"location":"event_messages/content_engagement/share/","title":"share","text":"<p>Triggered when a user shares content from the website on social media or other platforms.</p>","tags":["Recommended"]},{"location":"event_messages/content_engagement/share/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user shares content from the website on social media or other platforms, typically by clicking on a share button or link.</p>","tags":["Recommended"]},{"location":"event_messages/content_engagement/share/#why-its-necessary","title":"Why it's necessary","text":"<p>It helps track user engagement with shared content and identify popular sharing channels, allowing the business to analyze social media reach and user-generated content. This data can inform social media strategies and content marketing efforts.</p>","tags":["Recommended"]},{"location":"event_messages/content_engagement/share/#implementations","title":"Implementations","text":"<p>Not implemented.</p>","tags":["Recommended"]},{"location":"event_messages/content_engagement/share/#code-example","title":"Code Example","text":"JavaScript<pre><code>dataLayer.push({\n  \"event\": \"share\",\n  \"content_type\": \"product\",\n  \"content_id\": \"P_1234567890\"\n});\n</code></pre>","tags":["Recommended"]},{"location":"event_messages/content_engagement/share/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"share\" content_type string No Type of content viewed by the user \"product\", \"blog\", \"video\" content_id string No Unique identifier for the content \"P_1234567890\", \"B_1234567890\", \"V_1234567890\"","tags":["Recommended"]},{"location":"event_messages/content_engagement/video_complete/","title":"video_complete","text":"<p>Warning</p> <p>Embedded YouTube videos with the JS API enabled are tracked automatically through Enhanced Measurement. All YouTube videos embedded without JS API support and any non-YouTube videos must be instrumented manually.</p> <p>Triggered when a user completes watching a video on the website.</p>","tags":["Enhanced Measurement","Recommended"]},{"location":"event_messages/content_engagement/video_complete/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user completes watching a video on the website, typically by reaching the end of the video or clicking on a completion button.</p>","tags":["Enhanced Measurement","Recommended"]},{"location":"event_messages/content_engagement/video_complete/#why-its-necessary","title":"Why it's necessary","text":"<p>It helps track user engagement with video content and identify video completion rates, allowing the business to analyze video performance and optimize video engagement. This data can inform video marketing strategies and content production.</p>","tags":["Enhanced Measurement","Recommended"]},{"location":"event_messages/content_engagement/video_complete/#implementations","title":"Implementations","text":"<p>Not implemented.</p>","tags":["Enhanced Measurement","Recommended"]},{"location":"event_messages/content_engagement/video_complete/#code-example","title":"Code Example","text":"JavaScript<pre><code>dataLayer.push({\n  \"event\": \"video_complete\",\n  \"video_current_time\": 0,\n  \"video_duration\": 30,\n  \"video_percent\": 0,\n  \"video_provider\": \"YouTube\",\n  \"video_title\": \"How to Build a Rocket\",\n  \"visible\": true\n});\n</code></pre>","tags":["Enhanced Measurement","Recommended"]},{"location":"event_messages/content_engagement/video_complete/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"video_complete\" video_current_time number Yes Current time of the video in milliseconds 0, 10, 120 video_duration number Yes Duration of the video in milliseconds 30, 120, 1800 video_percent number Yes Percentage of the video watched by the user 0, 25, 50, 75, 100 video_provider string Yes Provider of the video \"YouTube\", \"Vimeo\", \"Wistia\" video_title string Yes Title of the video \"How to Build a Rocket\" visible boolean Yes Visibility status of the element True, False","tags":["Enhanced Measurement","Recommended"]},{"location":"event_messages/content_engagement/video_progress/","title":"video_progress","text":"<p>Warning</p> <p>Embedded YouTube videos with the JS API enabled are tracked automatically through Enhanced Measurement. All YouTube videos embedded without JS API support and any non-YouTube videos must be instrumented manually.</p> <p>Triggered when a user progresses through a video on the website.</p>","tags":["Enhanced Measurement","Recommended"]},{"location":"event_messages/content_engagement/video_progress/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user progresses through a video on the website, typically by reaching specific time intervals or milestones.</p>","tags":["Enhanced Measurement","Recommended"]},{"location":"event_messages/content_engagement/video_progress/#why-its-necessary","title":"Why it's necessary","text":"<p>It helps track user engagement with video content and identify viewing patterns, allowing the business to analyze video performance and optimize video engagement. This data can inform video marketing strategies and content production.</p>","tags":["Enhanced Measurement","Recommended"]},{"location":"event_messages/content_engagement/video_progress/#implementations","title":"Implementations","text":"<p>Not implemented.</p>","tags":["Enhanced Measurement","Recommended"]},{"location":"event_messages/content_engagement/video_progress/#code-example","title":"Code Example","text":"JavaScript<pre><code>dataLayer.push({\n  \"event\": \"video_progress\",\n  \"video_current_time\": 0,\n  \"video_duration\": 30,\n  \"video_percent\": 0,\n  \"video_provider\": \"YouTube\",\n  \"video_title\": \"How to Build a Rocket\",\n  \"visible\": true\n});\n</code></pre>","tags":["Enhanced Measurement","Recommended"]},{"location":"event_messages/content_engagement/video_progress/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"video_progress\" video_current_time number Yes Current time of the video in milliseconds 0, 10, 120 video_duration number Yes Duration of the video in milliseconds 30, 120, 1800 video_percent number Yes Percentage of the video watched by the user 0, 25, 50, 75, 100 video_provider string Yes Provider of the video \"YouTube\", \"Vimeo\", \"Wistia\" video_title string Yes Title of the video \"How to Build a Rocket\" visible boolean Yes Visibility status of the element True, False","tags":["Enhanced Measurement","Recommended"]},{"location":"event_messages/content_engagement/video_start/","title":"video_start","text":"<p>Warning</p> <p>Embedded YouTube videos with the JS API enabled are tracked automatically through Enhanced Measurement. All YouTube videos embedded without JS API support and any non-YouTube videos must be instrumented manually.</p> <p>Triggered when a user starts playing a video on the website.</p>","tags":["Enhanced Measurement","Recommended"]},{"location":"event_messages/content_engagement/video_start/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user starts playing a video on the website, typically by clicking on a video player or thumbnail.</p>","tags":["Enhanced Measurement","Recommended"]},{"location":"event_messages/content_engagement/video_start/#why-its-necessary","title":"Why it's necessary","text":"<p>It helps track user engagement with video content and identify popular video assets, allowing the business to analyze video performance and optimize video placements. This data can inform video marketing strategies and content production.</p>","tags":["Enhanced Measurement","Recommended"]},{"location":"event_messages/content_engagement/video_start/#implementations","title":"Implementations","text":"<p>Not implemented.</p>","tags":["Enhanced Measurement","Recommended"]},{"location":"event_messages/content_engagement/video_start/#code-example","title":"Code Example","text":"JavaScript<pre><code>dataLayer.push({\n  \"event\": \"video_start\",\n  \"video_current_time\": 0,\n  \"video_duration\": 30,\n  \"video_percent\": 0,\n  \"video_provider\": \"YouTube\",\n  \"video_title\": \"How to Build a Rocket\",\n  \"visible\": true\n});\n</code></pre>","tags":["Enhanced Measurement","Recommended"]},{"location":"event_messages/content_engagement/video_start/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"video_start\" video_current_time number Yes Current time of the video in milliseconds 0, 10, 120 video_duration number Yes Duration of the video in milliseconds 30, 120, 1800 video_percent number Yes Percentage of the video watched by the user 0, 25, 50, 75, 100 video_provider string Yes Provider of the video \"YouTube\", \"Vimeo\", \"Wistia\" video_title string Yes Title of the video \"How to Build a Rocket\" visible boolean Yes Visibility status of the element True, False","tags":["Enhanced Measurement","Recommended"]},{"location":"event_messages/ecommerce/add_payment_info/","title":"add_payment_info","text":"<p>Triggered when a user enters payment information during the checkout process.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_payment_info/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user enters payment information during the checkout process, typically on the payment details page.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_payment_info/#why-its-necessary","title":"Why it's necessary","text":"<p>It allows the business to track how many users are progressing to the payment stage of checkout, which is a critical step in the conversion funnel. This data helps analyze payment completion rates and identify potential issues with payment methods or forms.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_payment_info/#implementations","title":"Implementations","text":"Where Source Status Payment Info step in checkout flow N/A  Not implemented","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_payment_info/#code-example","title":"Code Example","text":"JavaScript<pre><code>// Clear any existing ecommerce data\ndataLayer.push({ecommerce: null});\n\ndataLayer.push({\n  event: \"add_payment_info\",\n  ecommerce: {\n    currency: \"USD\",\n    value: 9.99,\n    coupon: \"SUMMER2021\",\n    payment_type: \"credit_card\",\n    items: [\n      {\n        item_id: \"I_1234567890\",\n        item_name: \"shoes\",\n        affiliation: \"Brick &amp; Mortar Store\",\n        coupon: \"ITEM10OFF\",\n        discount: 2,\n        index: 1,\n        item_brand: \"Acme\",\n        item_category: \"Widgets\",\n        item_category2: \"Gadgets\",\n        item_category3: \"Gizmos\",\n        item_category4: \"Doodads\",\n        item_category5: \"Trinkets\",\n        item_list_id: \"L_1234567890\",\n        item_list_name: \"Recommended\",\n        item_variant: \"Black\",\n        location_id: \"ChIJrTLr-GyuEmsRBfy61i59si0\",\n        price: 9.99,\n        quantity: 1\n      }\n    ]\n  }\n});\n</code></pre>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_payment_info/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"add_payment_info\" ecommerce object Yes Object containing all e-commerce parameters See ecommerce Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_payment_info/#ecommerce-parameters","title":"ecommerce Parameters","text":"Name Type Required Description Examples coupon string No Coupon code used in the eventEvent-level and item-level <code>coupon</code> parameters are independent. \"SUMMER2021\", \"WINTER2021\", \"SPRING2021\" currency string Yes 3-letter ISO-4217 currency code \"USD\", \"EUR\", \"JPY\" value number Yes Monetary value of the event 1.23, 99.9, 300 payment_type string No Type of payment used in the event \"credit_card\", \"paypal\", \"apple_pay\" items Array Yes Array of item objects See items Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_payment_info/#items-parameters","title":"items Parameters","text":"Name Type Required Description Examples item_id string Yes Unique identifier for the item \"I_1234567890\" item_name string Yes Name of the item \"shoes\", \"t-shirt\", \"hat\" affiliation string Yes Product affiliation to designate a supplying company or brick-and-mortar store locationOnly available at item level \"Brick &amp; Mortar Store\" coupon string No Item-level coupon code. Independent from event-level <code>coupon</code> parameter \"ITEM10OFF\" discount number No Unit discount amount associated with the item 2.22 index number No Index/position of the item in the list 1, 10, 465 item_brand string No Product brand \"ProFlow\", \"Delta\" item_category string No Product category \"Plumbing\", \"HVAC\" item_category2 string No Level 2 category hierarchy/taxonomy \"Faucets\", \"Toilets\" item_category3 string No Level 3 category hierarchy/taxonomy \"Kitchen\", \"Bathroom\" item_category4 string No Level 4 category hierarchy/taxonomy \"Sink\", \"Shower\" item_category5 string No Level 5 category hierarchy/taxonomy \"Single Handle\", \"Double Handle\" item_list_id string No Unique identifier of the list in which the product was presented to the user. \"search_results\", \"recommended_products\", \"also_viewed\" item_list_name string No Name of the list in which the product was presented to the user. \"Search Results\", \"Recommended Products\", \"Also Viewed\" item_variant string No Product variant \"Black\", \"Large\", \"10mm\" location_id string No Physical location associated with the item. Google recommends using Google Place ID \"ChIJrTLr-GyuEmsRBfy61i59si0\" price number No Product unit price 9.99, 19.99, 29.99 quantity number No Product quantity 1, 2, 3","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_shipping_info/","title":"add_shipping_info","text":"<p>Triggered when a user enters shipping information during the checkout process.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_shipping_info/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user enters shipping information during the checkout process, typically on the shipping details page.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_shipping_info/#why-its-necessary","title":"Why it's necessary","text":"<p>It allows the business to track how many users are progressing to the shipping stage of checkout, which is a critical step in the conversion funnel. This data helps analyze shipping completion rates and identify potential issues with shipping methods or forms.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_shipping_info/#implementations","title":"Implementations","text":"Where Source Status Checkout Link to code  Live","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_shipping_info/#code-example","title":"Code Example","text":"JavaScript<pre><code>// Clear any existing ecommerce data\ndataLayer.push({ecommerce: null});\n\ndataLayer.push({\n  event: \"add_shipping_info\",\n  ecommerce: {\n    currency: \"USD\",\n    value: 9.99,\n    coupon: \"SUMMER2021\",\n    shipping_tier: \"standard\",\n    items: [\n      {\n        item_id: \"I_1234567890\",\n        item_name: \"shoes\",\n        affiliation: \"Brick &amp; Mortar Store\",\n        coupon: \"ITEM10OFF\",\n        discount: 2,\n        index: 1,\n        item_brand: \"Acme\",\n        item_category: \"Widgets\",\n        item_category2: \"Gadgets\",\n        item_category3: \"Gizmos\",\n        item_category4: \"Doodads\",\n        item_category5: \"Trinkets\",\n        item_list_id: \"L_1234567890\",\n        item_list_name: \"Recommended\",\n        item_variant: \"Black\",\n        location_id: \"ChIJrTLr-GyuEmsRBfy61i59si0\",\n        price: 9.99,\n        quantity: 1\n      }\n    ]\n  }\n});\n</code></pre>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_shipping_info/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"add_shipping_info\" ecommerce object Yes Object containing all e-commerce parameters See ecommerce Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_shipping_info/#ecommerce-parameters","title":"ecommerce Parameters","text":"Name Type Required Description Examples currency string Yes 3-letter ISO-4217 currency code \"USD\", \"EUR\", \"JPY\" value number Yes Monetary value of the event 1.23, 99.9, 300 coupon string No Coupon code used in the eventEvent-level and item-level <code>coupon</code> parameters are independent. \"SUMMER2021\", \"WINTER2021\", \"SPRING2021\" items Array Yes Array of item objects See items Parameters shipping_tier string No Shipping tier selected by the user \"standard\", \"express\", \"next_day\"","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_shipping_info/#items-parameters","title":"items Parameters","text":"Name Type Required Description Examples item_id string Yes Unique identifier for the item \"I_1234567890\" item_name string Yes Name of the item \"shoes\", \"t-shirt\", \"hat\" affiliation string Yes Product affiliation to designate a supplying company or brick-and-mortar store locationOnly available at item level \"Brick &amp; Mortar Store\" coupon string No Item-level coupon code. Independent from event-level <code>coupon</code> parameter \"ITEM10OFF\" discount number No Unit discount amount associated with the item 2.22 index number No Index/position of the item in the list 1, 10, 465 item_brand string No Product brand \"ProFlow\", \"Delta\" item_category string No Product category \"Plumbing\", \"HVAC\" item_category2 string No Level 2 category hierarchy/taxonomy \"Faucets\", \"Toilets\" item_category3 string No Level 3 category hierarchy/taxonomy \"Kitchen\", \"Bathroom\" item_category4 string No Level 4 category hierarchy/taxonomy \"Sink\", \"Shower\" item_category5 string No Level 5 category hierarchy/taxonomy \"Single Handle\", \"Double Handle\" item_list_id string No Unique identifier of the list in which the product was presented to the user. \"search_results\", \"recommended_products\", \"also_viewed\" item_list_name string No Name of the list in which the product was presented to the user. \"Search Results\", \"Recommended Products\", \"Also Viewed\" item_variant string No Product variant \"Black\", \"Large\", \"10mm\" location_id string No Physical location associated with the item. Google recommends using Google Place ID \"ChIJrTLr-GyuEmsRBfy61i59si0\" price number No Product unit price 9.99, 19.99, 29.99 quantity number No Product quantity 1, 2, 3","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_to_cart/","title":"add_to_cart","text":"<p>Triggered when a user adds a product to their shopping cart.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_to_cart/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user adds a product to their shopping cart.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_to_cart/#why-its-necessary","title":"Why it's necessary","text":"<p>It allows the business to track which products are being added to carts most frequently, helping the business understand user intent and identify popular items. This data is crucial for analyzing conversion rates and optimizing the path to purchase.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_to_cart/#implementations","title":"Implementations","text":"Where Source Status Cart page Link to code  Live PDP - Cross sell products Link to code  Live Search results/category pages Link to code  Live","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_to_cart/#code-example","title":"Code Example","text":"JavaScript<pre><code>// Clear any existing ecommerce data\ndataLayer.push({ecommerce: null});\n\ndataLayer.push({\n  event: \"add_to_cart\",\n  ecommerce: {\n    currency: \"USD\",\n    value: 9.99,\n    items: [\n      {\n        item_id: \"I_1234567890\",\n        item_name: \"shoes\",\n        affiliation: \"Brick &amp; Mortar Store\",\n        coupon: \"ITEM10OFF\",\n        discount: 2,\n        index: 1,\n        item_brand: \"Acme\",\n        item_category: \"Widgets\",\n        item_category2: \"Gadgets\",\n        item_category3: \"Gizmos\",\n        item_category4: \"Doodads\",\n        item_category5: \"Trinkets\",\n        item_list_id: \"L_1234567890\",\n        item_list_name: \"Recommended\",\n        item_variant: \"Black\",\n        location_id: \"ChIJrTLr-GyuEmsRBfy61i59si0\",\n        price: 9.99,\n        quantity: 1\n      }\n    ]\n  }\n});\n</code></pre>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_to_cart/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"add_to_cart\" ecommerce object Yes Object containing all e-commerce parameters See ecommerce Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_to_cart/#ecommerce-parameters","title":"ecommerce Parameters","text":"Name Type Required Description Examples currency string Yes 3-letter ISO-4217 currency code \"USD\", \"EUR\", \"JPY\" value number Yes Monetary value of the event 1.23, 99.9, 300 items Array Yes Array of item objects See items Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_to_cart/#items-parameters","title":"items Parameters","text":"Name Type Required Description Examples item_id string Yes Unique identifier for the item \"I_1234567890\" item_name string Yes Name of the item \"shoes\", \"t-shirt\", \"hat\" affiliation string Yes Product affiliation to designate a supplying company or brick-and-mortar store locationOnly available at item level \"Brick &amp; Mortar Store\" coupon string No Item-level coupon code. Independent from event-level <code>coupon</code> parameter \"ITEM10OFF\" discount number No Unit discount amount associated with the item 2.22 index number No Index/position of the item in the list 1, 10, 465 item_brand string No Product brand \"ProFlow\", \"Delta\" item_category string No Product category \"Plumbing\", \"HVAC\" item_category2 string No Level 2 category hierarchy/taxonomy \"Faucets\", \"Toilets\" item_category3 string No Level 3 category hierarchy/taxonomy \"Kitchen\", \"Bathroom\" item_category4 string No Level 4 category hierarchy/taxonomy \"Sink\", \"Shower\" item_category5 string No Level 5 category hierarchy/taxonomy \"Single Handle\", \"Double Handle\" item_list_id string No Unique identifier of the list in which the product was presented to the user. \"search_results\", \"recommended_products\", \"also_viewed\" item_list_name string No Name of the list in which the product was presented to the user. \"Search Results\", \"Recommended Products\", \"Also Viewed\" item_variant string No Product variant \"Black\", \"Large\", \"10mm\" location_id string No Physical location associated with the item. Google recommends using Google Place ID \"ChIJrTLr-GyuEmsRBfy61i59si0\" price number No Product unit price 9.99, 19.90, 29.00 quantity number No Product quantity 1, 2, 3","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_to_wishlist/","title":"add_to_wishlist","text":"<p>Triggered when a user adds a product to a wishlist.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_to_wishlist/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user adds a product to their wishlist or favorites list.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_to_wishlist/#why-its-necessary","title":"Why it's necessary","text":"<p>It helps track user interest in specific products, allowing the business to analyze wishlist activity and identify popular items. This data can inform marketing strategies and personalized recommendations.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_to_wishlist/#implementations","title":"Implementations","text":"Where Source Status Cart page Link to code  Live Catalog pages Link to code  Live PDPs Link to code  Live Search results/PLPs Link to code  Live","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_to_wishlist/#code-example","title":"Code Example","text":"Web Quote Details JavaScript<pre><code>// Clear any existing ecommerce data\ndataLayer.push({ ecommerce: null });\n\ndataLayer.push({\n  event: \"add_to_wishlist\",\n  ecommerce: {\n    currency: \"USD\",\n    value: 9.99,\n    items: [\n      {\n        item_id: \"SMTGF703\",\n        item_name: \"2 in. x 150 ft. Aluminum Foil Tape\",\n        price: 8.48,\n        item_brand: \"Acme\",\n        item_category: \"Widgets\",\n        item_category2: \"Gadgets\",\n        currency: \"CAD\",\n        affiliation: \"Brick &amp; Mortar Store\",\n        location_id: \"ChIJyakzuxm9KogRfb-d9ZSq1r8\",\n        quantity: 1,\n        index: 1,\n        item_list_id: \"web_quote_details\",\n        item_list_name: \"Web Quote Details\"\n      },\n      {\n        item_id: \"SMTGF702\",\n        item_name: \"3 in. x 150 ft. Aluminum Foil Tape\",\n        price: 12.45,\n        item_brand: \"Acme\",\n        item_category: \"Widgets\",\n        item_category2: \"Gadgets\",\n        currency: \"CAD\",\n        affiliation: \"Brick &amp; Mortar Store\",\n        location_id: \"ChIJyakzuxm9KogRfb-d9ZSq1r8\",\n        quantity: 1,\n        index: 2,\n        item_list_id: \"web_quote_details\",\n        item_list_name: \"Web Quote Details\"\n      }\n    ]\n  }\n});\n</code></pre>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_to_wishlist/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"add_to_wishlist\" ecommerce object Yes Object containing all e-commerce parameters See ecommerce Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_to_wishlist/#ecommerce-parameters","title":"ecommerce Parameters","text":"Name Type Required Description Examples currency string Yes 3-letter ISO-4217 currency code \"USD\", \"EUR\", \"JPY\" value number Yes Monetary value of the event 1.23, 99.9, 300 items Array Yes Array of item objects See items Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/add_to_wishlist/#items-parameters","title":"items Parameters","text":"Name Type Required Description Examples item_id string Yes Unique identifier for the item \"I_1234567890\" item_name string Yes Name of the item \"shoes\", \"t-shirt\", \"hat\" affiliation string Yes Product affiliation to designate a supplying company or brick-and-mortar store locationOnly available at item level \"Brick &amp; Mortar Store\" coupon string No Item-level coupon code. Independent from event-level <code>coupon</code> parameter \"ITEM10OFF\" discount number No Unit discount amount associated with the item 2.22 index number No Index/position of the item in the list 1, 10, 465 item_brand string No Product brand \"ProFlow\", \"Delta\" item_category string No Product category \"Plumbing\", \"HVAC\" item_category2 string No Level 2 category hierarchy/taxonomy \"Faucets\", \"Toilets\" item_category3 string No Level 3 category hierarchy/taxonomy \"Kitchen\", \"Bathroom\" item_category4 string No Level 4 category hierarchy/taxonomy \"Sink\", \"Shower\" item_category5 string No Level 5 category hierarchy/taxonomy \"Single Handle\", \"Double Handle\" item_list_id string No Unique identifier of the product listing in which the product was presented to the user. item_list_name string No Name of the product listing in which the product was presented to the user. item_variant string No Product variant \"Black\", \"Large\", \"10mm\" location_id string No Physical location associated with the item. Google recommends using Google Place ID \"ChIJrTLr-GyuEmsRBfy61i59si0\" price number No Product unit price 9.99, 19.90, 29.00 quantity number No Product quantity 1, 2, 3","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/begin_checkout/","title":"begin_checkout","text":"<p>Triggered when a user initiates the checkout process.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/begin_checkout/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user initiates the checkout process, typically by clicking a \"Checkout\" button or entering the first step of a multi-step checkout.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/begin_checkout/#why-its-necessary","title":"Why it's necessary","text":"<p>It allows the business to track how many users are starting the checkout process, which is a critical step in the conversion funnel. This data helps analyze cart abandonment rates and identify potential issues in the transition from cart to checkout.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/begin_checkout/#implementations","title":"Implementations","text":"Where Source Status Checkout button Link to code  Live","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/begin_checkout/#code-example","title":"Code Example","text":"JavaScript<pre><code>// Clear any existing ecommerce data\ndataLayer.push({ecommerce: null});\n\ndataLayer.push({\n  event: \"begin_checkout\",\n  ecommerce: {\n    currency: \"USD\",\n    value: 9.99,\n    coupon: \"SUMMER2021\",\n    items: [\n      {\n        item_id: \"I_1234567890\",\n        item_name: \"shoes\",\n        affiliation: \"Brick &amp; Mortar Store\",\n        coupon: \"ITEM10OFF\",\n        discount: 2,\n        index: 1,\n        item_brand: \"Acme\",\n        item_category: \"Widgets\",\n        item_category2: \"Gadgets\",\n        item_category3: \"Gizmos\",\n        item_category4: \"Doodads\",\n        item_category5: \"Trinkets\",\n        item_list_id: \"L_1234567890\",\n        item_list_name: \"Recommended\",\n        item_variant: \"Black\",\n        location_id: \"ChIJrTLr-GyuEmsRBfy61i59si0\",\n        price: 9.99,\n        quantity: 1\n      }\n    ]\n  }\n});\n</code></pre>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/begin_checkout/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"begin_checkout\" ecommerce object Yes Object containing all e-commerce parameters See ecommerce Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/begin_checkout/#ecommerce-parameters","title":"ecommerce Parameters","text":"Name Type Required Description Examples currency string Yes 3-letter ISO-4217 currency code \"USD\", \"EUR\", \"JPY\" value number Yes Monetary value of the event 1.23, 99.9, 300 coupon string No Coupon code used in the eventEvent-level and item-level <code>coupon</code> parameters are independent. \"SUMMER2021\", \"WINTER2021\", \"SPRING2021\" items Array Yes Array of item objects See items Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/begin_checkout/#items-parameters","title":"items Parameters","text":"Name Type Required Description Examples item_id string Yes Unique identifier for the item \"I_1234567890\" item_name string Yes Name of the item \"shoes\", \"t-shirt\", \"hat\" affiliation string Yes Product affiliation to designate a supplying company or brick-and-mortar store locationOnly available at item level \"Brick &amp; Mortar Store\" coupon string No Item-level coupon code. Independent from event-level <code>coupon</code> parameter \"ITEM10OFF\" discount number No Unit discount amount associated with the item 2.22 index number No Index/position of the item in the list 1, 10, 465 item_brand string No Product brand \"ProFlow\", \"Delta\" item_category string No Product category \"Plumbing\", \"HVAC\" item_category2 string No Level 2 category hierarchy/taxonomy \"Faucets\", \"Toilets\" item_category3 string No Level 3 category hierarchy/taxonomy \"Kitchen\", \"Bathroom\" item_category4 string No Level 4 category hierarchy/taxonomy \"Sink\", \"Shower\" item_category5 string No Level 5 category hierarchy/taxonomy \"Single Handle\", \"Double Handle\" item_list_id string No Unique identifier of the list in which the product was presented to the user. \"search_results\", \"recommended_products\", \"also_viewed\" item_list_name string No Name of the list in which the product was presented to the user. \"Search Results\", \"Recommended Products\", \"Also Viewed\" item_variant string No Product variant \"Black\", \"Large\", \"10mm\" location_id string No Physical location associated with the item. Google recommends using Google Place ID \"ChIJrTLr-GyuEmsRBfy61i59si0\" price number No Product unit price 9.99, 19.90, 29.00 quantity number No Product quantity 1, 2, 3","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/purchase/","title":"purchase","text":"<p>Triggered when a user completes a purchase on the website.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/purchase/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user completes a purchase on the website, typically after entering payment and shipping information.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/purchase/#why-its-necessary","title":"Why it's necessary","text":"<p>It allows the business to track completed transactions and revenue generated from purchases, providing valuable insights into conversion rates and revenue attribution. This data is essential for measuring the success of e-commerce activities.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/purchase/#implementations","title":"Implementations","text":"Where Source Status Order Confirmation Page Link to code  Live","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/purchase/#code-example","title":"Code Example","text":"JavaScript<pre><code>// Clear any existing ecommerce data\ndataLayer.push({ecommerce: null});\n\ndataLayer.push({\n  event: \"purchase\",\n  ecommerce: {\n    currency: \"USD\",\n    value: 9.99,\n    coupon: \"SUMMER2021\",\n    items: [\n      {\n        item_id: \"I_1234567890\",\n        item_name: \"shoes\",\n        affiliation: \"Brick &amp; Mortar Store\",\n        coupon: \"ITEM10OFF\",\n        discount: 2,\n        index: 1,\n        item_brand: \"Acme\",\n        item_category: \"Widgets\",\n        item_category2: \"Gadgets\",\n        item_category3: \"Gizmos\",\n        item_category4: \"Doodads\",\n        item_category5: \"Trinkets\",\n        item_list_id: \"L_1234567890\",\n        item_list_name: \"Recommended\",\n        item_variant: \"Black\",\n        location_id: \"ChIJrTLr-GyuEmsRBfy61i59si0\",\n        price: 9.99,\n        quantity: 1\n      }\n    ],\n    transaction_id: \"T_1234567890\",\n    shipping: 5,\n    tax: 1\n  }\n});\n</code></pre>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/purchase/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"purchase\" ecommerce object Yes Object containing all e-commerce parameters See ecommerce Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/purchase/#ecommerce-parameters","title":"ecommerce Parameters","text":"Name Type Required Description Examples currency string Yes 3-letter ISO-4217 currency code \"USD\", \"EUR\", \"JPY\" value number Yes Monetary value of the event 1.23, 99.9, 300 coupon string No Coupon code used in the eventEvent-level and item-level <code>coupon</code> parameters are independent. \"SUMMER2021\", \"WINTER2021\", \"SPRING2021\" items Array Yes Array of item objects See items Parameters transaction_id string Yes Unique identifier for the transaction \"T_1234567890\" shipping number No Shipping cost of the transaction 5.99, 9.1, 6, 0 tax number No Tax cost of the transaction 1.23, 0.9, 3","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/purchase/#items-parameters","title":"items Parameters","text":"Name Type Required Description Examples item_id string Yes Unique identifier for the item \"I_1234567890\" item_name string Yes Name of the item \"shoes\", \"t-shirt\", \"hat\" affiliation string Yes Product affiliation to designate a supplying company or brick-and-mortar store locationOnly available at item level \"Brick &amp; Mortar Store\" coupon string No Item-level coupon code. Independent from event-level <code>coupon</code> parameter \"ITEM10OFF\" discount number No Unit discount amount associated with the item 2.22 index number No Index/position of the item in the list 1, 10, 465 item_brand string No Product brand \"ProFlow\", \"Delta\" item_category string No Product category \"Plumbing\", \"HVAC\" item_category2 string No Level 2 category hierarchy/taxonomy \"Faucets\", \"Toilets\" item_category3 string No Level 3 category hierarchy/taxonomy \"Kitchen\", \"Bathroom\" item_category4 string No Level 4 category hierarchy/taxonomy \"Sink\", \"Shower\" item_category5 string No Level 5 category hierarchy/taxonomy \"Single Handle\", \"Double Handle\" item_list_id string No Unique identifier of the list in which the product was presented to the user. \"search_results\", \"recommended_products\", \"also_viewed\" item_list_name string No Name of the list in which the product was presented to the user. \"Search Results\", \"Recommended Products\", \"Also Viewed\" item_variant string No Product variant \"Black\", \"Large\", \"10mm\" location_id string No Physical location associated with the item. Google recommends using Google Place ID \"ChIJrTLr-GyuEmsRBfy61i59si0\" price number No Product unit price 9.99, 19.90, 29.00 quantity number No Product quantity 1, 2, 3","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/refund/","title":"refund","text":"<p>Triggered when a user requests a refund for a previous purchase.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/refund/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user requests a refund for a previous purchase, typically through a refund request form or customer service interaction.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/refund/#why-its-necessary","title":"Why it's necessary","text":"<p>It helps track refund requests and identify trends in product returns, allowing the business to analyze customer satisfaction and product quality. This data can inform product improvements and customer service strategies.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/refund/#implementations","title":"Implementations","text":"Where Source Status Refund service (MP) Link to code","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/refund/#code-example","title":"Code Example","text":"JavaScript<pre><code>// Clear any existing ecommerce data\ndataLayer.push({ecommerce: null});\n\ndataLayer.push({\n  event: \"refund\",\n  ecommerce: {\n    currency: \"USD\",\n    value: 9.99,\n    coupon: \"SUMMER2021\",\n    items: [\n      {\n        item_id: \"I_1234567890\",\n        item_name: \"shoes\",\n        affiliation: \"Brick &amp; Mortar Store\",\n        coupon: \"ITEM10OFF\",\n        discount: 2,\n        index: 1,\n        item_brand: \"Acme\",\n        item_category: \"Widgets\",\n        item_category2: \"Gadgets\",\n        item_category3: \"Gizmos\",\n        item_category4: \"Doodads\",\n        item_category5: \"Trinkets\",\n        item_list_id: \"L_1234567890\",\n        item_list_name: \"Recommended\",\n        item_variant: \"Black\",\n        location_id: \"ChIJrTLr-GyuEmsRBfy61i59si0\",\n        price: 9.99,\n        quantity: 1\n      }\n    ],\n    transaction_id: \"T_1234567890\",\n    shipping: 5,\n    tax: 1\n  }\n});\n</code></pre>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/refund/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"refund\" ecommerce object Yes Object containing all e-commerce parameters See ecommerce Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/refund/#ecommerce-parameters","title":"ecommerce Parameters","text":"Name Type Required Description Examples currency string Yes 3-letter ISO-4217 currency code \"USD\", \"EUR\", \"JPY\" value number Yes Monetary value of the event 1.23, 99.9, 300 coupon string No Coupon code used in the eventEvent-level and item-level <code>coupon</code> parameters are independent. \"SUMMER2021\", \"WINTER2021\", \"SPRING2021\" items Array Yes Array of item objects See items Parameters transaction_id string Yes Unique identifier for the transaction \"T_1234567890\" shipping number No Shipping cost of the transaction 5.99, 9.1, 6, 0 tax number No Tax cost of the transaction 1.23, 0.9, 3","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/refund/#items-parameters","title":"items Parameters","text":"Name Type Required Description Examples item_id string Yes Unique identifier for the item \"I_1234567890\" item_name string Yes Name of the item \"shoes\", \"t-shirt\", \"hat\" affiliation string Yes Product affiliation to designate a supplying company or brick-and-mortar store locationOnly available at item level \"Brick &amp; Mortar Store\" coupon string No Item-level coupon code. Independent from event-level <code>coupon</code> parameter \"ITEM10OFF\" discount number No Unit discount amount associated with the item 2.22 index number No Index/position of the item in the list 1, 10, 465 item_brand string No Product brand \"ProFlow\", \"Delta\" item_category string No Product category \"Plumbing\", \"HVAC\" item_category2 string No Level 2 category hierarchy/taxonomy \"Faucets\", \"Toilets\" item_category3 string No Level 3 category hierarchy/taxonomy \"Kitchen\", \"Bathroom\" item_category4 string No Level 4 category hierarchy/taxonomy \"Sink\", \"Shower\" item_category5 string No Level 5 category hierarchy/taxonomy \"Single Handle\", \"Double Handle\" item_list_id string No Unique identifier of the list in which the product was presented to the user. \"search_results\", \"recommended_products\", \"also_viewed\" item_list_name string No Name of the list in which the product was presented to the user. \"Search Results\", \"Recommended Products\", \"Also Viewed\" item_variant string No Product variant \"Black\", \"Large\", \"10mm\" location_id string No Physical location associated with the item. Google recommends using Google Place ID \"ChIJrTLr-GyuEmsRBfy61i59si0\" price number No Product unit price 9.99, 19.90, 29.00 quantity number No Product quantity 1, 2, 3","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/remove_from_cart/","title":"remove_from_cart","text":"<p>Triggered when a user removes a product from their shopping cart.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/remove_from_cart/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user removes a product from their shopping cart.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/remove_from_cart/#why-its-necessary","title":"Why it's necessary","text":"<p>It helps identify which products are being removed from carts most often, potentially indicating issues with pricing, product information, or user experience. This data can be used to optimize product pages and reduce cart abandonment.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/remove_from_cart/#implementations","title":"Implementations","text":"Where Source Status Shopping Cart Link to code :markdown-check-circle: Live","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/remove_from_cart/#code-example","title":"Code Example","text":"JavaScript<pre><code>dataLayer.push({\n  event: \"remove_from_cart\",\n  ecommerce: {\n    currency: \"USD\",\n    value: 9.99,\n    items: [\n      {\n        item_id: \"I_1234567890\",\n        item_name: \"shoes\",\n        affiliation: \"Brick &amp; Mortar Store\",\n        coupon: \"ITEM10OFF\",\n        discount: 2,\n        index: 1,\n        item_brand: \"Acme\",\n        item_category: \"Widgets\",\n        item_category2: \"Gadgets\",\n        item_category3: \"Gizmos\",\n        item_category4: \"Doodads\",\n        item_category5: \"Trinkets\",\n        item_list_id: \"L_1234567890\",\n        item_list_name: \"Recommended\",\n        item_variant: \"Black\",\n        location_id: \"ChIJrTLr-GyuEmsRBfy61i59si0\",\n        price: 9.99,\n        quantity: 1\n      }\n    ]\n  }\n});\n</code></pre>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/remove_from_cart/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"remove_from_cart\" ecommerce object Yes Object containing all e-commerce parameters See ecommerce Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/remove_from_cart/#ecommerce-parameters","title":"ecommerce Parameters","text":"Name Type Required Description Examples currency string Yes 3-letter ISO-4217 currency code \"USD\", \"EUR\", \"JPY\" value number Yes Monetary value of the event 1.23, 99.9, 300 items Array Yes Array of item objects See items Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/remove_from_cart/#items-parameters","title":"items Parameters","text":"Name Type Required Description Examples item_id string Yes Unique identifier for the item \"I_1234567890\" item_name string Yes Name of the item \"shoes\", \"t-shirt\", \"hat\" affiliation string Yes Product affiliation to designate a supplying company or brick-and-mortar store locationOnly available at item level \"Brick &amp; Mortar Store\" coupon string No Item-level coupon code. Independent from event-level <code>coupon</code> parameter \"ITEM10OFF\" discount number No Unit discount amount associated with the item 2.22 index number No Index/position of the item in the list 1, 10, 465 item_brand string No Product brand \"ProFlow\", \"Delta\" item_category string No Product category \"Plumbing\", \"HVAC\" item_category2 string No Level 2 category hierarchy/taxonomy \"Faucets\", \"Toilets\" item_category3 string No Level 3 category hierarchy/taxonomy \"Kitchen\", \"Bathroom\" item_category4 string No Level 4 category hierarchy/taxonomy \"Sink\", \"Shower\" item_category5 string No Level 5 category hierarchy/taxonomy \"Single Handle\", \"Double Handle\" item_list_id string No Unique identifier of the list in which the product was presented to the user. \"search_results\", \"recommended_products\", \"also_viewed\" item_list_name string No Name of the list in which the product was presented to the user. \"Search Results\", \"Recommended Products\", \"Also Viewed\" item_variant string No Product variant \"Black\", \"Large\", \"10mm\" location_id string No Physical location associated with the item. Google recommends using Google Place ID \"ChIJrTLr-GyuEmsRBfy61i59si0\" price number No Product unit price 9.99, 19.90, 29.00 quantity number No Product quantity 1, 2, 3","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/review_order/","title":"review_order","text":"<p>Triggered when a user reviews their order details before completing a purchase.</p>","tags":["Custom"]},{"location":"event_messages/ecommerce/review_order/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user reviews their order details before completing a purchase, typically on the Order Review page.</p>","tags":["Custom"]},{"location":"event_messages/ecommerce/review_order/#why-its-necessary","title":"Why it's necessary","text":"<p>It helps track user interactions with order details and identify common review behaviors, allowing the business to analyze purchase intent and optimize checkout flow. This data can inform order confirmation pages and post-purchase communications.</p>","tags":["Custom"]},{"location":"event_messages/ecommerce/review_order/#implementations","title":"Implementations","text":"Where Source Status Review Order page Link to code  Live","tags":["Custom"]},{"location":"event_messages/ecommerce/review_order/#code-example","title":"Code Example","text":"JavaScript<pre><code>dataLayer.push({\n  \"event\": \"review_order\",\n  \"gtm_tag_name\": \"GA4 - Event\",\n  \"checkout_step_number\": 3,\n  \"checkout_step_name\": \"review order\"\n});\n</code></pre>","tags":["Custom"]},{"location":"event_messages/ecommerce/review_order/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"review_order\" gtm_tag_name string Yes Name of the GTM tag this event should trigger \"GA4 - Event\" checkout_step_number number Yes Step number of the checkout process 3 checkout_step_name string Yes Name of the checkout step \"review order\"","tags":["Custom"]},{"location":"event_messages/ecommerce/select_item/","title":"select_item","text":"<p>Triggered when a user selects a specific product from a list or grid of products.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/select_item/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user selects a specific product from a list or grid of products, typically by clicking on the product image or title.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/select_item/#why-its-necessary","title":"Why it's necessary","text":"<p>It helps track user interest in specific products and identify popular items, allowing the business to analyze product performance and user engagement. This data can inform product recommendations and marketing strategies.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/select_item/#implementations","title":"Implementations","text":"Where Source Status Home page Link to code  Live Catalog Link to code  Live Search Results Link to code  Live PDP - Product Recommendations Link to code  Live Shopping Cart Link to code  Live","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/select_item/#code-example","title":"Code Example","text":"Order Details PageWeb Quote Details JavaScript<pre><code>// Clear any existing ecommerce data\ndataLayer.push({ecommerce: null});\n\ndataLayer.push({\n  event: \"select_item\",\n  item_list_id: \"My Orders\",\n  item_list_name: \"Order Details Page\",\n  ecommerce: {\n    items: [\n      {\n        item_id: \"MIL276720\",\n        item_name: \"Milwaukee 2767-20 M18 FUEL 18 Volt Lithium-lon Brushless Cordless 1/2 in. High Torque Impact Wrench\",\n        affiliation: \"Brick &amp; Mortar Store\",\n        index: 4,\n        item_brand: \"Acme\",\n        item_category: \"Widgets\",\n        item_category2: \"Gadgets\",\n        item_category3: \"Gizmos\",\n        price: 123.50,\n        quantity: 1\n      }\n    ]\n  }\n});\n</code></pre> JavaScript<pre><code>// Clear any existing ecommerce data\ndataLayer.push({ ecommerce: null });\n\ndataLayer.push({\n  event: \"select_item\",\n  item_list_id: \"web_quote_details\",\n  item_list_name: \"Web Quote Details\",\n  ecommerce: {\n    items: [\n      {\n        item_id: \"MIL276720\",\n        item_name: \"Milwaukee 2767-20 M18 FUEL 18 Volt Lithium-lon Brushless Cordless 1/2 in. High Torque Impact Wrench\",\n        affiliation: \"Brick &amp; Mortar Store\",\n        index: 4,\n        item_brand: \"Acme\",\n        item_category: \"Widgets\",\n        item_category2: \"Gadgets\",\n        item_category3: \"Gizmos\",\n        price: 123.50,\n        quantity: 1\n      }\n    ]\n  }\n});\n</code></pre>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/select_item/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"select_item\" ecommerce object Yes Object containing all e-commerce parameters See ecommerce Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/select_item/#ecommerce-parameters","title":"ecommerce Parameters","text":"Name Type Required Description Examples items Array Yes Array of item objects See items Parameters item_list_id string No Unique identifier for this product listing.Note: This should NOT be unique to instances of the product listing, but rather to the component which presents the product listing itself. (e.g. there shouldn't be a unique ID for individual web quote IDs, only the web quote details product listing component) \"search_results\", \"web_quote_details\", \"also_viewed\" item_list_name string No Name of the product listing. This should be a value recognizable to business users in GA4. \"Search Results\", \"Web Quote Details\", \"Also Viewed\"","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/select_item/#items-parameters","title":"items Parameters","text":"Name Type Required Description Examples item_id string Yes Unique identifier for the item \"I_1234567890\" item_name string Yes Name of the item \"shoes\", \"t-shirt\", \"hat\" affiliation string Yes Product affiliation to designate a supplying company or brick-and-mortar store locationOnly available at item level \"Brick &amp; Mortar Store\" coupon string No Item-level coupon code. Independent from event-level <code>coupon</code> parameter \"ITEM10OFF\" discount number No Unit discount amount associated with the item 2.22 index number No Index/position of the item in the list 1, 10, 465 item_brand string No Product brand \"ProFlow\", \"Delta\" item_category string No Product category \"Plumbing\", \"HVAC\" item_category2 string No Level 2 category hierarchy/taxonomy \"Faucets\", \"Toilets\" item_category3 string No Level 3 category hierarchy/taxonomy \"Kitchen\", \"Bathroom\" item_category4 string No Level 4 category hierarchy/taxonomy \"Sink\", \"Shower\" item_category5 string No Level 5 category hierarchy/taxonomy \"Single Handle\", \"Double Handle\" item_list_id string No Unique identifier of the product listing in which the product was presented to the user.Overrides the <code>item_list_id</code> parameter at the event level:\u00a0do not set here if set at the event level! \"search_results\", \"web_quote_details\", \"order_details\" item_list_name string No Name of the product listing in which the product was presented to the user.Overrides the <code>item_list_name</code> parameter at the event level:\u00a0do not set here if set at the event level! \"Search Results\", \"Web Quote Details\", \"Also Viewed\" item_variant string No Product variant \"Black\", \"Large\", \"10mm\" location_id string No Physical location associated with the item. Google recommends using Google Place ID \"ChIJrTLr-GyuEmsRBfy61i59si0\" price number No Product unit price 9.99, 19.90, 29.00 quantity number No Product quantity 1, 2, 3","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/select_promotion/","title":"select_promotion","text":"<p>Triggered when a user selects a promotion or special offer, such as a discount code or free shipping offer.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/select_promotion/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user selects a promotion or special offer, such as a discount code or free shipping offer, typically by clicking on a promotional banner or link.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/select_promotion/#why-its-necessary","title":"Why it's necessary","text":"<p>It helps track user engagement with promotions and identify which offers are generating the most interest, allowing the business to analyze promotion performance and optimize marketing campaigns. This data can inform promotional strategies and discounting decisions.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/select_promotion/#implementations","title":"Implementations","text":"Where Source Status Home page Link to code  Live Search Results/PLPs Link to code  Live","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/select_promotion/#code-example","title":"Code Example","text":"No specific product(s) in promotionPromotion includes specific product(s) JavaScript<pre><code>dataLayer.push({\n  event: \"select_promotion\",\n  ecommerce: {\n    creative_name: \"summer_sale\",\n    creative_slot: \"homepage\",\n    promotion_id: \"P_1234567890\",\n    promotion_name: \"10%_off\"\n  }\n});\n</code></pre> JavaScript<pre><code>// Only include the product that was clicked\ndataLayer.push({\n  event: \"select_promotion\",\n  ecommerce: {\n    creative_name: \"summer_sale\",\n    creative_slot: \"homepage\",\n    promotion_id: \"P_1234567890\",\n    promotion_name: \"10%_off\",\n    items: [\n      {\n        item_id: \"SMTGF703\",\n        item_name: \"2 in. x 150 ft. Aluminum Foil Tape\",\n        price: 9, // (1)!\n        discount: 1, // (2)!\n        item_brand: \"Acme\",\n        item_category: \"Widgets\",\n        item_category2: \"Gadgets\",\n        currency: \"CAD\",\n        affiliation: \"Brick &amp; Mortar Store\",\n        location_id: \"ChIJyakzuxm9KogRfb-d9ZSq1r8\",\n        quantity: 1,\n        index: 1\n      }\n    ]\n  }\n});\n</code></pre> <ol> <li>If a discount applies, set <code>price</code> to the discounted unit price. In this example, the unit price is $10, but a 10% discount is being offered. So <code>price</code> becomes <code>9</code>, and we set <code>discount</code> to <code>1</code>.</li> <li>Set this to the unit price discount.</li> </ol>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/select_promotion/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"select_promotion\" ecommerce object Yes Object containing all e-commerce parameters See ecommerce Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/select_promotion/#ecommerce-parameters","title":"ecommerce Parameters","text":"Name Type Required Description Examples creative_name string No Name of the promotional creative \"summer_sale\", \"winter_sale\", \"spring_sale\" creative_slot string No Slot where the promotional creative was displayed \"homepage\", \"product_page\", \"checkout\" promotion_id string No Unique identifier for the promotion \"P_1234567890\" promotion_name string No Name of the promotion \"10%_off\", \"free_shipping\", \"buy_one_get_one\" items Array No Array of item objects See items Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/select_promotion/#items-parameters","title":"items Parameters","text":"Name Type Required Description Examples item_id string Yes Unique identifier for the item \"I_1234567890\" item_name string Yes Name of the item \"shoes\", \"t-shirt\", \"hat\" affiliation string Yes Product affiliation to designate a supplying company or brick-and-mortar store locationOnly available at item level \"Brick &amp; Mortar Store\" coupon string No Item-level coupon code. Independent from event-level <code>coupon</code> parameter \"ITEM10OFF\" discount number No Unit discount amount associated with the item 2.22 index number No Index/position of the item in the list 1, 10, 465 item_brand string No Product brand \"ProFlow\", \"Delta\" item_category string No Product category \"Plumbing\", \"HVAC\" item_category2 string No Level 2 category hierarchy/taxonomy \"Faucets\", \"Toilets\" item_category3 string No Level 3 category hierarchy/taxonomy \"Kitchen\", \"Bathroom\" item_category4 string No Level 4 category hierarchy/taxonomy \"Sink\", \"Shower\" item_category5 string No Level 5 category hierarchy/taxonomy \"Single Handle\", \"Double Handle\" item_list_id string No Unique identifier of the product listing in which the product was presented to the user. item_list_name string No Name of the product listing in which the product was presented to the user. item_variant string No Product variant \"Black\", \"Large\", \"10mm\" location_id string No Physical location associated with the item. Google recommends using Google Place ID \"ChIJrTLr-GyuEmsRBfy61i59si0\" price number No Product unit price 9.99, 19.90, 29.00 quantity number No Product quantity 1, 2, 3","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_cart/","title":"view_cart","text":"<p>Triggered when a user views their shopping cart or basket.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_cart/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user views their shopping cart or basket, typically on the cart page or in a sidebar widget.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_cart/#why-its-necessary","title":"Why it's necessary","text":"<p>It allows the business to track how many users are viewing their carts and identify potential issues with cart contents or pricing. This data can help optimize the cart experience and reduce cart abandonment rates.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_cart/#implementations","title":"Implementations","text":"Where Source Status Shopping Cart Link to code  Live","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_cart/#code-example","title":"Code Example","text":"JavaScript<pre><code>// Clear any existing ecommerce data\ndataLayer.push({ ecommerce: null });\n\ndataLayer.push({\n  event: \"view_cart\",\n  ecommerce: {\n    currency: \"USD\",\n    value: 9.99,\n    items: [\n      {\n        item_id: \"I_1234567890\",\n        item_name: \"shoes\",\n        affiliation: \"Brick &amp; Mortar Store\",\n        coupon: \"ITEM10OFF\",\n        discount: 2,\n        index: 1,\n        item_brand: \"Acme\",\n        item_category: \"Widgets\",\n        item_category2: \"Gadgets\",\n        item_category3: \"Gizmos\",\n        item_category4: \"Doodads\",\n        item_category5: \"Trinkets\",\n        item_list_id: \"L_1234567890\",\n        item_list_name: \"Recommended\",\n        item_variant: \"Black\",\n        location_id: \"ChIJrTLr-GyuEmsRBfy61i59si0\",\n        price: 9.99,\n        quantity: 1\n      }\n    ]\n  }\n});\n</code></pre>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_cart/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"view_cart\" ecommerce object Yes Object containing all e-commerce parameters See ecommerce Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_cart/#ecommerce-parameters","title":"ecommerce Parameters","text":"Name Type Required Description Examples currency string Yes 3-letter ISO-4217 currency code \"USD\", \"EUR\", \"JPY\" value number Yes Monetary value of the event 1.23, 99.9, 300 items Array Yes Array of item objects See items Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_cart/#items-parameters","title":"items Parameters","text":"Name Type Required Description Examples item_id string Yes Unique identifier for the item \"I_1234567890\" item_name string Yes Name of the item \"shoes\", \"t-shirt\", \"hat\" affiliation string Yes Product affiliation to designate a supplying company or brick-and-mortar store locationOnly available at item level \"Brick &amp; Mortar Store\" coupon string No Item-level coupon code. Independent from event-level <code>coupon</code> parameter \"ITEM10OFF\" discount number No Unit discount amount associated with the item 2.22 index number No Index/position of the item in the list 1, 10, 465 item_brand string No Product brand \"ProFlow\", \"Delta\" item_category string No Product category \"Plumbing\", \"HVAC\" item_category2 string No Level 2 category hierarchy/taxonomy \"Faucets\", \"Toilets\" item_category3 string No Level 3 category hierarchy/taxonomy \"Kitchen\", \"Bathroom\" item_category4 string No Level 4 category hierarchy/taxonomy \"Sink\", \"Shower\" item_category5 string No Level 5 category hierarchy/taxonomy \"Single Handle\", \"Double Handle\" item_list_id string No Unique identifier of the list in which the product was presented to the user. \"search_results\", \"recommended_products\", \"also_viewed\" item_list_name string No Name of the list in which the product was presented to the user. \"Search Results\", \"Recommended Products\", \"Also Viewed\" item_variant string No Product variant \"Black\", \"Large\", \"10mm\" location_id string No Physical location associated with the item. Google recommends using Google Place ID \"ChIJrTLr-GyuEmsRBfy61i59si0\" price number No Product unit price 9.99, 19.90, 29.00 quantity number No Product quantity 1, 2, 3","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_item/","title":"view_item","text":"<p>Triggered when a user views a specific product's details page.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_item/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user views a specific product's details page.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_item/#why-its-necessary","title":"Why it's necessary","text":"<p>It helps track which products are generating the most interest, allowing the business to analyze product performance and user engagement with specific items. This data can inform inventory decisions and marketing strategies.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_item/#implementations","title":"Implementations","text":"Where Source Status PDPs Link to code  Live","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_item/#code-example","title":"Code Example","text":"JavaScript<pre><code>// Clear any existing ecommerce data\ndataLayer.push({ ecommerce: null });\n\ndataLayer.push({\n  event: \"view_item\",\n  ecommerce: {\n    currency: \"USD\",\n    value: 9.99,\n    items: [\n      {\n        item_id: \"I_1234567890\",\n        item_name: \"shoes\",\n        affiliation: \"Brick &amp; Mortar Store\",\n        discount: 2, // (1)!\n        index: 1, // (2)!\n        item_brand: \"Acme\",\n        item_category: \"Widgets\",\n        item_category2: \"Gadgets\",\n        item_category3: \"Gizmos\",\n        item_category4: \"Doodads\",\n        item_category5: \"Trinkets\",\n        item_list_id: \"L_1234567890\",\n        item_list_name: \"Recommended\",\n        item_variant: \"Black\",\n        location_id: \"ChIJrTLr-GyuEmsRBfy61i59si0\",\n        price: 9.99,\n        quantity: 1\n      }\n    ]\n  }\n});\n</code></pre> <ol> <li>Only if discount offered on the item</li> <li>Should be the index of where it appeared in the referring product listing, if applicable. For example, if it was the 13th item in a list of search results, the value would be <code>13</code>.</li> </ol>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_item/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"view_item\" ecommerce object Yes Object containing all e-commerce parameters See ecommerce Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_item/#ecommerce-parameters","title":"ecommerce Parameters","text":"Name Type Required Description Examples currency string Yes 3-letter ISO-4217 currency code \"USD\", \"EUR\", \"JPY\" value number Yes Monetary value of the event 1.23, 99.9, 300 items Array Yes Array of item objectsFor <code>view_item</code> there should only be one <code>item</code> object See items Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_item/#items-parameters","title":"items Parameters","text":"Name Type Required Description Examples item_id string Yes Unique identifier for the item \"I_1234567890\" item_name string Yes Name of the item \"shoes\", \"t-shirt\", \"hat\" affiliation string Yes Product affiliation to designate a supplying company or brick-and-mortar store locationOnly available at item level \"Brick &amp; Mortar Store\" coupon string No Item-level coupon code. Independent from event-level <code>coupon</code> parameter \"ITEM10OFF\" discount number No Unit discount amount associated with the item 2.22 index number No Index/position of the item in the list 1, 10, 465 item_brand string No Product brand \"ProFlow\", \"Delta\" item_category string No Product category \"Plumbing\", \"HVAC\" item_category2 string No Level 2 category hierarchy/taxonomy \"Faucets\", \"Toilets\" item_category3 string No Level 3 category hierarchy/taxonomy \"Kitchen\", \"Bathroom\" item_category4 string No Level 4 category hierarchy/taxonomy \"Sink\", \"Shower\" item_category5 string No Level 5 category hierarchy/taxonomy \"Single Handle\", \"Double Handle\" item_list_id string No Unique identifier of the list in which the product was presented to the user. \"search_results\", \"recommended_products\", \"also_viewed\" item_list_name string No Name of the list in which the product was presented to the user. \"Search Results\", \"Recommended Products\", \"Also Viewed\" item_variant string No Product variant \"Black\", \"Large\", \"10mm\" location_id string No Physical location associated with the item. Google recommends using Google Place ID \"ChIJrTLr-GyuEmsRBfy61i59si0\" price number No Product unit price 9.99, 19.90, 29.00 quantity number No Product quantity 1, 2, 3","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_item_list/","title":"view_item_list","text":"<p>Triggered when a user views a listing of products, such as on category pages, search results pages, or related products sections.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_item_list/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user views a listing of products, such as on category pages, search results pages, or related products sections.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_item_list/#why-its-necessary","title":"Why it's necessary","text":"<p>It allows the business to track which product listings are being viewed most frequently, helping the business understand user browsing patterns and optimize your product categorization and search functionality.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_item_list/#implementations","title":"Implementations","text":"Where Source Status Home page Link to code  Live Search Results/PLPs Link to code  Live Catalog Link to code  Live PDP - Product Recommendations Link to code  Live Lists Link to code  Live Order History Link to code  Live","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_item_list/#code-example","title":"Code Example","text":"JavaScript<pre><code>// Clear any existing ecommerce data\ndataLayer.push({\"ecommerce\": null});\n\ndataLayer.push({\n  event: \"view_item_list\",\n  ecommerce: {\n    item_list_id: \"search_results\", // (1)!\n    item_list_name: \"Search Results\", // (2)!\n    items: [\n      {\n        item_id: \"SMTGF703\",\n        item_name: \"2 in. x 150 ft. Aluminum Foil Tape\",\n        price: 8.48,\n        item_brand: \"Acme\",\n        item_category: \"Widgets\",\n        item_category2: \"Gadgets\",\n        currency: \"CAD\",\n        affiliation: \"Brick &amp; Mortar Store\",\n        location_id: \"ChIJyakzuxm9KogRfb-d9ZSq1r8\",\n        quantity: 1,\n        index: 1\n      },\n      {\n        item_id: \"SMTGF702\",\n        item_name: \"3 in. x 150 ft. Aluminum Foil Tape\",\n        price: 12.45,\n        item_brand: \"Acme\",\n        item_category: \"Widgets\",\n        item_category2: \"Gadgets\",\n        currency: \"CAD\",\n        affiliation: \"Brick &amp; Mortar Store\",\n        location_id: \"ChIJyakzuxm9KogRfb-d9ZSq1r8\",\n        quantity: 1,\n        index: 2\n      }\n    ]\n  }\n});\n</code></pre> <ol> <li>See item list values for approved values.</li> <li>See item list values for approved values.</li> </ol>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_item_list/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"view_item_list\" ecommerce object Yes Object containing all e-commerce parameters See ecommerce Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_item_list/#ecommerce-parameters","title":"ecommerce Parameters","text":"Name Type Required Description Examples items Array Yes Array of item objects See items Parameters item_list_id string No Unique identifier for this product listing.Note: This should NOT be unique to instances of the product listing, but rather to the component which presents the product listing itself. (e.g. there shouldn't be a unique ID for individual web quote IDs, only the web quote details product listing component) \"search_results\", \"web_quote_details\", \"also_viewed\" item_list_name string No Name of the product listing. This should be a value recognizable to business users in GA4. \"Search Results\", \"Web Quote Details\", \"Also Viewed\"","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_item_list/#items-parameters","title":"items Parameters","text":"Name Type Required Description Examples item_id string Yes Unique identifier for the item \"I_1234567890\" item_name string Yes Name of the item \"shoes\", \"t-shirt\", \"hat\" affiliation string Yes Product affiliation to designate a supplying company or brick-and-mortar store locationOnly available at item level \"Brick &amp; Mortar Store\" coupon string No Item-level coupon code. Independent from event-level <code>coupon</code> parameter \"ITEM10OFF\" discount number No Unit discount amount associated with the item 2.22 index number No Index/position of the item in the list 1, 10, 465 item_brand string No Product brand \"ProFlow\", \"Delta\" item_category string No Product category \"Plumbing\", \"HVAC\" item_category2 string No Level 2 category hierarchy/taxonomy \"Faucets\", \"Toilets\" item_category3 string No Level 3 category hierarchy/taxonomy \"Kitchen\", \"Bathroom\" item_category4 string No Level 4 category hierarchy/taxonomy \"Sink\", \"Shower\" item_category5 string No Level 5 category hierarchy/taxonomy \"Single Handle\", \"Double Handle\" item_list_id string No Unique identifier of the product listing in which the product was presented to the user.Overrides the <code>item_list_id</code> parameter at the event level:\u00a0do not set here if set at the event level! \"search_results\", \"web_quote_details\", \"order_details\" item_list_name string No Name of the product listing in which the product was presented to the user.Overrides the <code>item_list_name</code> parameter at the event level:\u00a0do not set here if set at the event level! \"Search Results\", \"Web Quote Details\", \"Also Viewed\" item_variant string No Product variant \"Black\", \"Large\", \"10mm\" location_id string No Physical location associated with the item. Google recommends using Google Place ID \"ChIJrTLr-GyuEmsRBfy61i59si0\" price number No Product unit price 9.99, 19.90, 29.00 quantity number No Product quantity 1, 2, 3","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_promotion/","title":"view_promotion","text":"<p>Triggered when a user views a promotion or special offer, such as a banner for a free shipping offer.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_promotion/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user is served any promotion or special offer.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_promotion/#why-its-necessary","title":"Why it's necessary","text":"<p>It helps track impressions of promotions and identify which offers are generating the most interest, allowing the business to analyze promotion performance and optimize marketing campaigns. This data can inform promotional strategies and discounting decisions.</p>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_promotion/#implementations","title":"Implementations","text":"Where Source Status Home page Link to code  Live Search Results/PLPs Link to code  Live","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_promotion/#code-example","title":"Code Example","text":"No specific product(s) in promotionPromotion includes specific product(s) JavaScript<pre><code>dataLayer.push({\n  event: \"view_promotion\",\n  ecommerce: {\n    creative_name: \"summer_sale\",\n    creative_slot: \"homepage\",\n    promotion_id: \"P_1234567890\",\n    promotion_name: \"10%_off\"\n  }\n});\n</code></pre> JavaScript<pre><code>// Only include the product that was clicked\ndataLayer.push({\n  event: \"view_promotion\",\n  ecommerce: {\n    creative_name: \"summer_sale\",\n    creative_slot: \"homepage\",\n    promotion_id: \"P_1234567890\",\n    promotion_name: \"10%_off\",\n    items: [\n      {\n        item_id: \"SMTGF703\",\n        item_name: \"2 in. x 150 ft. Aluminum Foil Tape\",\n        price: 9, // (1)!\n        discount: 1, // (2)!\n        item_brand: \"Acme\",\n        item_category: \"Widgets\",\n        item_category2: \"Gadgets\",\n        currency: \"CAD\",\n        affiliation: \"Brick &amp; Mortar Store\",\n        location_id: \"ChIJyakzuxm9KogRfb-d9ZSq1r8\",\n        quantity: 1,\n        index: 1\n      }\n    ]\n  }\n});\n</code></pre> <ol> <li>If a discount applies, set <code>price</code> to the discounted unit price. In this example, the unit price is $10, but a 10% discount is being offered. So <code>price</code> becomes <code>9</code>, and we set <code>discount</code> to <code>1</code>.</li> <li>Set this to the unit price discount.</li> </ol>","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_promotion/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"select_promotion\" ecommerce object Yes Object containing all e-commerce parameters See ecommerce Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_promotion/#ecommerce-parameters","title":"ecommerce Parameters","text":"Name Type Required Description Examples creative_name string No Name of the promotional creative \"summer_sale\", \"winter_sale\", \"spring_sale\" creative_slot string No Slot where the promotional creative was displayed \"homepage\", \"product_page\", \"checkout\" promotion_id string No Unique identifier for the promotion \"P_1234567890\" promotion_name string No Name of the promotion \"10%_off\", \"free_shipping\", \"buy_one_get_one\" items Array No Array of item objects See items Parameters","tags":["Recommended","Ecommerce"]},{"location":"event_messages/ecommerce/view_promotion/#items-parameters","title":"items Parameters","text":"Name Type Required Description Examples item_id string Yes Unique identifier for the item \"I_1234567890\" item_name string Yes Name of the item \"shoes\", \"t-shirt\", \"hat\" affiliation string Yes Product affiliation to designate a supplying company or brick-and-mortar store locationOnly available at item level \"Brick &amp; Mortar Store\" coupon string No Item-level coupon code. Independent from event-level <code>coupon</code> parameter \"ITEM10OFF\" discount number No Unit discount amount associated with the item 2.22 index number No Index/position of the item in the list 1, 10, 465 item_brand string No Product brand \"ProFlow\", \"Delta\" item_category string No Product category \"Plumbing\", \"HVAC\" item_category2 string No Level 2 category hierarchy/taxonomy \"Faucets\", \"Toilets\" item_category3 string No Level 3 category hierarchy/taxonomy \"Kitchen\", \"Bathroom\" item_category4 string No Level 4 category hierarchy/taxonomy \"Sink\", \"Shower\" item_category5 string No Level 5 category hierarchy/taxonomy \"Single Handle\", \"Double Handle\" item_list_id string No Unique identifier of the product listing in which the product was presented to the user. item_list_name string No Name of the product listing in which the product was presented to the user. item_variant string No Product variant \"Black\", \"Large\", \"10mm\" location_id string No Physical location associated with the item. Google recommends using Google Place ID \"ChIJrTLr-GyuEmsRBfy61i59si0\" price number No Product unit price 9.99, 19.90, 29.00 quantity number No Product quantity 1, 2, 3","tags":["Recommended","Ecommerce"]},{"location":"event_messages/forms/generate_lead/","title":"generate_lead","text":"<p>Triggered when a user submits a lead form or expresses interest in a product or service.</p>","tags":["Recommended"]},{"location":"event_messages/forms/generate_lead/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user submits a lead form or expresses interest in a product or service, typically by providing contact information or requesting more information.</p>","tags":["Recommended"]},{"location":"event_messages/forms/generate_lead/#why-its-necessary","title":"Why it's necessary","text":"<p>It helps track user engagement with lead generation forms and identify which products or services are generating the most interest. This data can inform marketing strategies and lead nurturing campaigns.</p>","tags":["Recommended"]},{"location":"event_messages/forms/generate_lead/#implementations","title":"Implementations","text":"<p>Not implemented.</p>","tags":["Recommended"]},{"location":"event_messages/forms/generate_lead/#code-example","title":"Code Example","text":"JavaScript<pre><code>dataLayer.push({\n  \"event\": \"generate_lead\",\n  \"lead_source\": \"google\",\n  \"currency\": \"USD\",\n  \"value\": 30.03\n});\n</code></pre>","tags":["Recommended"]},{"location":"event_messages/forms/generate_lead/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"generate_lead\" currency string Yes 3-letter ISO-4217 currency code \"USD\", \"EUR\", \"JPY\" lead_source string No Lead source of the user \"google\", \"trade show\", \"form\", \"tfn\" value number Yes Monetary value of the event. This is typically the expected value of the lead, e.g. average customer lifetime value (CLV) * lead-to-customer conversion rate 30.03, 99.9, 300","tags":["Recommended"]},{"location":"event_messages/search/search/","title":"search","text":"<p>Triggered when a user performs a search on the website.</p>","tags":["Recommended"]},{"location":"event_messages/search/search/#when-to-pass","title":"When to pass","text":"<p>This event should be triggered when a user performs a search on the website, typically by entering a search query into a search bar.</p>","tags":["Recommended"]},{"location":"event_messages/search/search/#why-its-necessary","title":"Why it's necessary","text":"<p>It allows the business to track user search behavior and identify popular search terms, helping the business understand user intent and optimize search functionality. This data can inform content strategy and product recommendations.</p>","tags":["Recommended"]},{"location":"event_messages/search/search/#implementations","title":"Implementations","text":"<p>Not implemented. See search_interaction.</p>","tags":["Recommended"]},{"location":"event_messages/search/search/#code-example","title":"Code Example","text":"JavaScript<pre><code>dataLayer.push({\n  \"event\": \"search\",\n  \"search_term\": \"condensers\"\n});\n</code></pre>","tags":["Recommended"]},{"location":"event_messages/search/search/#parameters","title":"Parameters","text":"Name Type Required Description Examples event string Yes Name of the event \"search\" search_term string Yes Search term associated with the event.Only required for events with associated search interactions \"condensers\", \"toilets\", \"fittings\"","tags":["Recommended"]},{"location":"fundamentals/","title":"Google Analytics fundamentals","text":"<p>Knowing how Google Analytics works allows the business to maximize the value from their GA investment.</p>"},{"location":"fundamentals/product_list_attribution/","title":"Product list attribution","text":"<p>Product list attribution is a feature that helps track how customers interact with product listings on an ecommerce website, and attributes conversions to these interactions.</p> <p>GA4 uses a last-click attribution model for product listing interactions. This means the last product listing a customer interacted with before making a purchase gets credit for conversion.</p>"},{"location":"fundamentals/product_list_attribution/#why-is-it-important","title":"Why is it important?","text":"<p>When product list attribution is implemented correctly, it enables powerful reporting in Google Analytics which helps the business understand which product listings are most effective in driving conversions, allowing for optimization of product placement and listing design.</p>"},{"location":"fundamentals/product_list_attribution/#key-interactions","title":"Key interactions","text":"<p>These events drive product list attribution.</p>"},{"location":"fundamentals/product_list_attribution/#view_item_list","title":"view_item_list","text":"<p>Signifies when a user sees a product listing of multiple products.</p> <p>Examples:</p> <ul> <li>Search results</li> <li>Product listing pages (PLPs), such as category pages</li> <li>A \"Recommended Products\" or \"Customers Also Viewed\" widget</li> </ul> <p>It's critical for this event to include <code>item_list_id</code> and <code>item_list_name</code> so that the business can see e.g. which product listings are driving product interactions.</p>"},{"location":"fundamentals/product_list_attribution/#select_item","title":"select_item","text":"<p>Signifies when a user selects (clicks, taps, etc.) a product from a product listing.</p> <p>In this context, it's important to \"pass on\" the values for <code>item_list_id</code> and <code>item_list_name</code> used in the <code>view_item_list</code> event for the product listing.</p> <p>Example: JavaScript<pre><code>// Customer is shown a product listing...\ndataLayer.push({\n    event: \"view_item_list\",\n    ecommerce: {\n        item_list_id: \"category_01\", // &lt;== tells the business where a customer saw a product\n        item_list_name: \"Category Listing\", // &lt;== tells the business where a customer saw a product\n        items: [\n            {\n                item_id: \"I_123456710\",\n                item_name: \"Kyber Crystal\",\n                price: 8.48,\n                item_brand: \"Acme\",\n                item_category: \"Widgets\",\n                item_category2: \"Gadgets\",\n                currency: \"USD\",\n                affiliation: \"Brick &amp; Mortar Store\",\n                quantity: 1,\n                index: 1\n            },\n            {\n                item_id: \"I_123456711\",\n                item_name: \"Focusing Lens\",\n                price: 12.45,\n                item_brand: \"Acme\",\n                item_category: \"Widgets\",\n                item_category2: \"Gadgets\",\n                currency: \"USD\",\n                affiliation: \"Brick &amp; Mortar Store\",\n                quantity: 1,\n                index: 2\n            },\n            {\n                item_id: \"I_123456712\",\n                item_name: \"Cycling Field Energizer\",\n                price: 5.66,\n                item_brand: \"Acme\",\n                item_category: \"Widgets\",\n                item_category2: \"Gadgets\",\n                currency: \"USD\",\n                affiliation: \"Brick &amp; Mortar Store\",\n                quantity: 1,\n                index: 3\n            }\n        ]\n    }\n}\n});\n\n// ... then clicks on a product to see more details about it.\ndataLayer.push({\n    event: \"select_item\",\n    item_list_id: \"category_01\", // &lt;== MUST MATCH VALUE IN view_item_list\n    item_list_name: \"Category Listing\", // &lt;== MUST MATCH VALUE IN view_item_list\n    ecommerce: {\n        items: [\n            {\n                item_id: \"I_123456710\",\n                item_name: \"Kyber Crystal\",\n                price: 8.48,\n                item_brand: \"Acme\",\n                item_category: \"Widgets\",\n                item_category2: \"Gadgets\",\n                currency: \"USD\",\n                affiliation: \"Brick &amp; Mortar Store\",\n                quantity: 1,\n                index: 1\n            }\n        ]\n    }\n});\n</code></pre></p>"},{"location":"fundamentals/product_list_attribution/#supporting-events","title":"Supporting events","text":""},{"location":"fundamentals/product_list_attribution/#view_item","title":"view_item","text":"<p>Signifies when a user has viewed a product detail page (PDP).</p> <p><code>item_list_name</code> and <code>item_list_id</code> are important here because the business can then break down PDP views by listings that resulted in the view.</p> <p>It's important to note that in this event (and some others), <code>item_list_name</code> and <code>item_list_id</code> are set at the item level, not at the event level (as with <code>view_item_list</code> and <code>select_item</code>.) See below note about scope.</p>"},{"location":"fundamentals/product_list_attribution/#view_cart","title":"view_cart","text":"<p>Signifies when a user has viewed their shopping cart.</p> <p>Users can add products to their carts from many different sources \u2014\u00a0PLPs, PDPs, promotions, etc. Each product in the <code>items</code> array for this event should reflect which <code>item_list_id</code> and <code>item_list_name</code> the add came from.</p>"},{"location":"fundamentals/product_list_attribution/#begin_checkout-and-other-checkout-events","title":"begin_checkout and other checkout events","text":"<p>Once the user starts the checkout flow, the contributing <code>item_list_id</code> and <code>item_list_name</code> should be set at the item level for each event in the funnel.</p>"},{"location":"fundamentals/product_list_attribution/#a-note-about-scope","title":"A note about scope","text":"<p><code>item_list_id</code> and <code>item_list_name</code> can be set either at the event level (e.g. <code>ecommerce.item_list_name</code>) or at the item level (e.g. <code>ecommerce.items[0].item_list_name</code>). When set at the event level, the value will override any value set at the item level.</p> <p>Here's an example:</p> JavaScript<pre><code>dataLayer.push({\n    event: \"view_item_list\",\n    ecommerce: {\n        item_list_name: \"Product Recommendations\", // &lt;== overrides item-level item_list_name\n        item_list_id: \"product_recs_01\", // &lt;== overrides item-level item_list_id\n        items: [\n            {\n                item_id: \"I_123456710\",\n                item_name: \"Kyber Crystal\",\n                item_list_name: \"Product Recommendations\" // &lt;== overridden by ecommerce.item_list_name\n                item_list_id: \"product_recs_01\", // &lt;== overridden by ecommerce.item_list_id\n                item_brand: \"Acme\",\n                item_category: \"Widgets\",\n                item_category2: \"Gadgets\",\n                currency: \"USD\",\n                affiliation: \"Brick &amp; Mortar Store\",\n                price: 8.48,\n                index: 1\n            }\n        ]\n    }\n})\n</code></pre>"},{"location":"reference/","title":"Reference","text":"<p>General reference for GA4 implementation.</p>"},{"location":"reference/item_list_values/","title":"Item list values","text":"<p>The following is a list of approved values for <code>item_list_id</code> and <code>item_list_name</code> to be used for product list attribution.</p> Feature <code>item_list_id</code> <code>item_list_name</code> Search results page search_results Search Results Recommendations widget recommended_products Recommended Products"},{"location":"tags/","title":"Tags","text":""},{"location":"tags/#custom","title":"Custom","text":"<ul> <li>login</li> <li>review_order</li> </ul>"},{"location":"tags/#ecommerce","title":"Ecommerce","text":"<ul> <li>add_payment_info</li> <li>add_shipping_info</li> <li>add_to_cart</li> <li>add_to_wishlist</li> <li>begin_checkout</li> <li>purchase</li> <li>refund</li> <li>remove_from_cart</li> <li>select_item</li> <li>select_promotion</li> <li>view_cart</li> <li>view_item</li> <li>view_item_list</li> <li>view_promotion</li> </ul>"},{"location":"tags/#enhanced-measurement","title":"Enhanced Measurement","text":"<ul> <li>video_complete</li> <li>video_progress</li> <li>video_start</li> </ul>"},{"location":"tags/#recommended","title":"Recommended","text":"<ul> <li>sign_up</li> <li>select_content</li> <li>share</li> <li>video_complete</li> <li>video_progress</li> <li>video_start</li> <li>add_payment_info</li> <li>add_shipping_info</li> <li>add_to_cart</li> <li>add_to_wishlist</li> <li>begin_checkout</li> <li>purchase</li> <li>refund</li> <li>remove_from_cart</li> <li>select_item</li> <li>select_promotion</li> <li>view_cart</li> <li>view_item</li> <li>view_item_list</li> <li>view_promotion</li> <li>generate_lead</li> <li>search</li> </ul>"}]}